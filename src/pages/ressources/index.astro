---
import BaseLayout from '../../layouts/BaseLayout.astro';

/**
 * Hub Ressources - Centre d'information et d'√©ducation
 * Structure: Hero ‚Üí Guides ‚Üí Quand consulter ‚Üí Urgences ‚Üí FAQ ‚Üí CTA
 */

const guides = [
  {
    slug: 'anxiete-stress',
    title: 'Anxi√©t√© & Stress',
    description: 'Comprendre ses m√©canismes et trouver des cl√©s pour mieux vivre au quotidien.',
    icon: 'üåä',
  },
  {
    slug: 'burn-out',
    title: 'Le burn-out',
    description: 'Reconna√Ætre les signes avant l\'√©puisement et agir √† temps.',
    icon: 'üî•',
  },
  {
    slug: 'therapie-couple',
    title: 'Th√©rapie de couple',
    description: 'Comment √ßa fonctionne ? Pour qui ? Ce qu\'il faut savoir.',
    icon: 'üíï',
  },
  {
    slug: 'consultation-en-ligne',
    title: 'Consulter en ligne',
    description: 'Avantages et d√©roulement d\'une s√©ance √† distance.',
    icon: 'üíª',
  },
  {
    slug: 'premiere-seance',
    title: 'Pr√©parer sa premi√®re s√©ance',
    description: 'Ce qu\'il faut savoir avant de commencer une th√©rapie.',
    icon: 'üå±',
  },
];

const signesConsulter = [
  'Sentiment persistant de tristesse ou d\'anxi√©t√©',
  'Difficult√©s √† dormir ou fatigue constante',
  'Conflits r√©p√©t√©s dans vos relations',
  'Perte d\'int√©r√™t pour les activit√©s quotidiennes',
  'Pens√©es n√©gatives envahissantes',
  '√âv√©nement de vie difficile (deuil, s√©paration, licenciement)',
  'Sensation d\'√™tre submerg√©¬∑e ou d√©pass√©¬∑e',
  'Besoin de parler √† quelqu\'un de neutre',
];

const urgences = [
  {
    name: 'La Main Tendue',
    number: '143',
    description: '√âcoute et soutien 24h/24',
  },
  {
    name: 'Urgences m√©dicales',
    number: '144',
    description: 'Ambulance et urgences',
  },
  {
    name: 'Pro Juventute',
    number: '147',
    description: 'Aide pour les jeunes 24h/24',
  },
];

const faqs = [
  {
    question: 'Quelle est la diff√©rence entre un psychologue et un psychiatre ?',
    answer: 'Le psychiatre est m√©decin et peut prescrire des m√©dicaments. Le psychologue a une formation universitaire en psychologie et propose un accompagnement par la parole. Les deux approches peuvent √™tre compl√©mentaires.',
  },
  {
    question: 'Mes s√©ances sont-elles rembours√©es ?',
    answer: 'Les consultations psychologiques ne sont pas rembours√©es par l\'assurance de base. Certaines compl√©mentaires peuvent prendre en charge une partie. V√©rifiez aupr√®s de votre assurance.',
  },
  {
    question: 'Combien de temps dure une th√©rapie ?',
    answer: 'Cela varie selon les personnes et les objectifs. Certains viennent pour quelques s√©ances sur une probl√©matique pr√©cise, d\'autres pour un travail plus long. Nous faisons le point r√©guli√®rement.',
  },
];
---

<BaseLayout
  title="Ressources"
  description="Guides pratiques sur l'anxi√©t√©, le burn-out, la th√©rapie de couple et plus. Informations et conseils par Charlotte Lagona, psychologue FSP."
>
  <!-- Section 1: Hero -->
  <section class="py-20 lg:py-28">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <p class="text-sm text-secondary uppercase tracking-widest mb-4">Ressources</p>
        <h1 class="text-4xl lg:text-5xl mb-6">
          Comprendre<br />
          <span class="text-secondary">la th√©rapie</span>
        </h1>
        <p class="text-xl text-text-light leading-relaxed">
          Des guides pratiques et des r√©ponses √† vos questions
          pour vous accompagner dans votre r√©flexion.
        </p>
      </div>
    </div>
  </section>

  <!-- Section 2: Guides th√©matiques -->
  <section class="py-16 lg:py-24 bg-bg-alt">
    <div class="container">
      <div class="max-w-5xl mx-auto">
        <h2 class="text-2xl lg:text-3xl text-center mb-12">Guides th√©matiques</h2>

        <div class="guides-grid">
          {guides.map((guide) => (
            <a href={`/ressources/${guide.slug}`} class="guide-card group">
              <span class="guide-icon">{guide.icon}</span>
              <h3 class="text-xl font-heading mb-2 group-hover:text-secondary transition-colors">
                {guide.title}
              </h3>
              <p class="text-text-light text-sm leading-relaxed mb-4">
                {guide.description}
              </p>
              <span class="guide-link">
                Lire le guide
                <svg class="w-4 h-4 ml-1 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
              </span>
            </a>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Section 3: Quand consulter -->
  <section class="py-16 lg:py-24">
    <div class="container">
      <div class="max-w-4xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-2xl lg:text-3xl mb-6">
              Quand consulter<br />
              <span class="text-secondary">un¬∑e psychologue ?</span>
            </h2>
            <p class="text-text-light mb-8 leading-relaxed">
              Il n'y a pas de "bon moment" pour consulter. Si vous vous posez la question,
              c'est peut-√™tre d√©j√† un signe. Voici quelques situations qui am√®nent
              souvent mes patient¬∑e¬∑s √† prendre rendez-vous :
            </p>

            <ul class="signes-list">
              {signesConsulter.map((signe) => (
                <li class="signe-item">
                  <svg class="signe-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                  <span>{signe}</span>
                </li>
              ))}
            </ul>
          </div>

          <div class="hidden lg:flex justify-center">
            <img
              src="/images/illustrations/mind-tangled-new.png"
              alt=""
              class="w-full max-w-xs opacity-80"
              aria-hidden="true"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 4: Num√©ros d'urgence -->
  <section class="py-12 lg:py-16 bg-bg-alt">
    <div class="container">
      <div class="max-w-4xl mx-auto">
        <div class="urgences-box">
          <h3 class="text-lg font-heading mb-6 text-center">En cas d'urgence</h3>
          <div class="urgences-grid">
            {urgences.map((item) => (
              <div class="urgence-item">
                <span class="urgence-number">{item.number}</span>
                <div>
                  <p class="font-medium">{item.name}</p>
                  <p class="text-sm text-text-muted">{item.description}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 5: FAQ courte -->
  <section class="py-16 lg:py-24">
    <div class="container">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl lg:text-3xl text-center mb-12">Questions fr√©quentes</h2>

        <div class="faq-list" x-data="{ openIndex: null }">
          {faqs.map((faq, index) => (
            <div class="faq-item">
              <button
                class="faq-trigger"
                @click={`openIndex = openIndex === ${index} ? null : ${index}`}
              >
                <span class="faq-question">{faq.question}</span>
                <svg
                  class="w-5 h-5 transition-transform duration-300 text-secondary"
                  :class={`{ 'rotate-180': openIndex === ${index} }`}
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>
              <div
                class="faq-content"
                x-show={`openIndex === ${index}`}
                x-collapse
              >
                <p class="faq-answer">{faq.answer}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Section 6: CTA -->
  <section class="py-20 lg:py-28 bg-bg-alt">
    <div class="container">
      <div class="max-w-2xl mx-auto text-center">
        <img
          src="/images/illustrations/hand-flower.png"
          alt=""
          class="w-28 h-auto mx-auto mb-8"
          loading="lazy"
          aria-hidden="true"
        />
        <h2 class="text-2xl lg:text-3xl mb-4">Pr√™t¬∑e √† en parler ?</h2>
        <p class="text-text-light mb-8 leading-relaxed">
          La premi√®re consultation est sans engagement.
          Elle nous permet de faire connaissance.
        </p>
        <a
          href="/contact"
          class="inline-block px-8 py-3 border border-secondary/40 rounded-full text-text hover:border-secondary hover:bg-secondary/5 transition-all duration-300"
        >
          Prendre rendez-vous
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Guides Grid */
  .guides-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .guides-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .guides-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .guide-card {
    display: block;
    padding: 1.5rem;
    background: var(--color-bg);
    border: 1px solid rgba(0, 0, 0, 0.06);
    border-radius: 1rem;
    transition: all 0.3s ease;
  }

  .guide-card:hover {
    border-color: rgba(228, 156, 149, 0.3);
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.08);
    transform: translateY(-2px);
  }

  .guide-icon {
    display: block;
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .guide-link {
    display: inline-flex;
    align-items: center;
    font-size: 0.875rem;
    color: var(--color-secondary);
  }

  /* Signes list */
  .signes-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .signe-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .signe-icon {
    width: 1.25rem;
    height: 1.25rem;
    color: var(--color-secondary);
    flex-shrink: 0;
    margin-top: 0.125rem;
  }

  /* Urgences */
  .urgences-box {
    background: var(--color-bg);
    border: 1px solid rgba(228, 156, 149, 0.2);
    border-radius: 1rem;
    padding: 2rem;
  }

  .urgences-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .urgences-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .urgence-item {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .urgence-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3.5rem;
    height: 3.5rem;
    background: var(--color-secondary);
    color: white;
    border-radius: 50%;
    font-family: var(--font-heading);
    font-size: 1.125rem;
    font-weight: 600;
    flex-shrink: 0;
  }

  /* FAQ */
  .faq-list {
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .faq-item {
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .faq-trigger {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 0;
    text-align: left;
    background: none;
    border: none;
    cursor: pointer;
    transition: color 0.3s ease;
  }

  .faq-trigger:hover {
    color: var(--color-secondary);
  }

  .faq-question {
    font-family: var(--font-heading);
    font-size: 1.0625rem;
    font-weight: 500;
    padding-right: 1rem;
  }

  .faq-content {
    overflow: hidden;
  }

  .faq-answer {
    padding-bottom: 1.25rem;
    color: var(--color-text-light);
    line-height: 1.7;
  }
</style>
