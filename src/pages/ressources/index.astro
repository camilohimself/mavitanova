---
import BaseLayout from '../../layouts/BaseLayout.astro';

/**
 * Hub Ressources - Centre d'information et d'éducation
 * Structure: Hero → Guides → Quand consulter → Urgences → FAQ → CTA
 */

const guides = [
  {
    slug: 'psychologue-en-ligne-suisse',
    title: 'Psychologue en ligne en Suisse',
    description: '7 critères pour choisir un thérapeute FSP qualifié.',
    icon: 'badge',
  },
  {
    slug: 'anxiete-stress',
    title: 'Anxiété & Stress',
    description: 'Comprendre ses mécanismes et trouver des clés pour mieux vivre au quotidien.',
    icon: 'wave',
  },
  {
    slug: 'burn-out',
    title: 'Le burn-out',
    description: 'Reconnaître les signes avant l\'épuisement et agir à temps.',
    icon: 'flame',
  },
  {
    slug: 'burnout-ou-fatigue',
    title: 'Burn-out ou fatigue ?',
    description: 'Les 5 signes qui ne trompent pas. Faites le point.',
    icon: 'question',
  },
  {
    slug: 'depression',
    title: 'Dépression',
    description: 'Reconnaître les signes et trouver de l\'aide pour s\'en sortir.',
    icon: 'cloud',
  },
  {
    slug: 'confiance-en-soi',
    title: 'Confiance en soi',
    description: 'Comprendre le manque d\'estime et retrouver confiance.',
    icon: 'sparkles',
  },
  {
    slug: 'deuil-separation',
    title: 'Deuil & Séparation',
    description: 'Traverser la perte et se reconstruire à son rythme.',
    icon: 'leaf',
  },
  {
    slug: 'transitions-vie',
    title: 'Transitions de vie',
    description: 'Accompagner les grands changements avec sérénité.',
    icon: 'arrows',
  },
  {
    slug: 'therapie-couple',
    title: 'Thérapie de couple',
    description: 'Comment ça fonctionne ? Pour qui ? Ce qu\'il faut savoir.',
    icon: 'hearts',
  },
  {
    slug: 'infidelite-couple',
    title: 'Surmonter une infidélité',
    description: '5 étapes pour reconstruire la confiance ou décider de partir.',
    icon: 'heart-crack',
  },
  {
    slug: 'communication-couple',
    title: 'On ne se parle plus',
    description: '3 exercices pour renouer le dialogue ce soir.',
    icon: 'chat',
  },
  {
    slug: 'consultation-en-ligne',
    title: 'Consulter en ligne',
    description: 'Avantages et déroulement d\'une séance à distance.',
    icon: 'laptop',
  },
  {
    slug: 'premiere-seance',
    title: 'Préparer sa première séance',
    description: 'Ce qu\'il faut savoir avant de commencer une thérapie.',
    icon: 'seedling',
  },
];

const signesConsulter = [
  'Sentiment persistant de tristesse ou d\'anxiété',
  'Difficultés à dormir ou fatigue constante',
  'Conflits répétés dans vos relations',
  'Perte d\'intérêt pour les activités quotidiennes',
  'Pensées négatives envahissantes',
  'Événement de vie difficile (deuil, séparation, licenciement)',
  'Sensation d\'être submergé·e ou dépassé·e',
  'Besoin de parler à quelqu\'un de neutre',
];

const urgences = [
  {
    name: 'La Main Tendue',
    number: '143',
    description: 'Écoute et soutien 24h/24',
  },
  {
    name: 'Urgences médicales',
    number: '144',
    description: 'Ambulance et urgences',
  },
  {
    name: 'Pro Juventute',
    number: '147',
    description: 'Aide pour les jeunes 24h/24',
  },
];

const faqs = [
  {
    question: 'Quelle est la différence entre un psychologue et un psychiatre ?',
    answer: 'Le psychiatre est médecin et peut prescrire des médicaments. Le psychologue a une formation universitaire en psychologie et propose un accompagnement par la parole. Les deux approches peuvent être complémentaires.',
  },
  {
    question: 'Mes séances sont-elles remboursées ?',
    answer: 'Les consultations psychologiques ne sont pas remboursées par l\'assurance de base. Certaines complémentaires peuvent prendre en charge une partie. Vérifiez auprès de votre assurance.',
  },
  {
    question: 'Combien de temps dure une thérapie ?',
    answer: 'Cela varie selon les personnes et les objectifs. Certains viennent pour quelques séances sur une problématique précise, d\'autres pour un travail plus long. Nous faisons le point régulièrement.',
  },
];
---

<BaseLayout
  title="Ressources"
  description="Guides pratiques sur l'anxiété, le burn-out, la thérapie de couple et plus. Informations et conseils par Charlotte Lagona, psychologue FSP."
>
  <!-- Section 1: Hero -->
  <section class="py-20 lg:py-28">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <p class="text-sm text-secondary uppercase tracking-widest mb-4">Ressources</p>
        <h1 class="text-4xl lg:text-5xl mb-6">
          Comprendre<br />
          <span class="text-secondary">la thérapie</span>
        </h1>
        <p class="text-xl text-text-light leading-relaxed">
          Des guides pratiques et des réponses à vos questions
          pour vous accompagner dans votre réflexion.
        </p>
      </div>
    </div>
  </section>

  <!-- Section 2: Guides thématiques -->
  <section class="py-16 lg:py-24 bg-bg-alt">
    <div class="container">
      <div class="max-w-5xl mx-auto">
        <h2 class="text-2xl lg:text-3xl text-center mb-12">Guides thématiques</h2>

        <div class="guides-grid">
          {guides.map((guide) => (
            <a href={`/ressources/${guide.slug}`} class="guide-card group">
              <span class="guide-icon">
                {guide.icon === 'badge' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.746 3.746 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"/>
                  </svg>
                )}
                {guide.icon === 'wave' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20.893 13.393l-1.135-1.135a2.252 2.252 0 01-.421-.585l-1.08-2.16a.414.414 0 00-.663-.107.827.827 0 01-.812.21l-1.273-.363a.89.89 0 00-.738 1.595l.587.39c.59.395.674 1.23.172 1.732l-.2.2c-.212.212-.33.498-.33.796v.41c0 .409-.11.809-.32 1.158l-1.315 2.191a2.11 2.11 0 01-1.81 1.025 1.055 1.055 0 01-1.055-1.055v-1.172c0-.92-.56-1.747-1.414-2.089l-.655-.261a2.25 2.25 0 01-1.383-2.46l.007-.042a2.25 2.25 0 01.29-.787l.09-.15a2.25 2.25 0 012.37-1.048l1.178.236a1.125 1.125 0 001.302-.795l.208-.73a1.125 1.125 0 00-.578-1.315l-.665-.332-.091.091a2.25 2.25 0 01-1.591.659h-.18c-.249 0-.487.1-.662.274a.931.931 0 01-1.458-1.137l1.411-2.353a2.25 2.25 0 00.286-.76m11.928 9.869A9 9 0 008.965 3.525m11.928 9.868A9 9 0 118.965 3.525"/>
                  </svg>
                )}
                {guide.icon === 'flame' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"/>
                  </svg>
                )}
                {guide.icon === 'question' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"/>
                  </svg>
                )}
                {guide.icon === 'hearts' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"/>
                  </svg>
                )}
                {guide.icon === 'heart-crack' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/>
                  </svg>
                )}
                {guide.icon === 'chat' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"/>
                  </svg>
                )}
                {guide.icon === 'laptop' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"/>
                  </svg>
                )}
                {guide.icon === 'seedling' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z"/>
                  </svg>
                )}
                {guide.icon === 'cloud' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z"/>
                  </svg>
                )}
                {guide.icon === 'sparkles' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"/>
                  </svg>
                )}
                {guide.icon === 'leaf' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"/>
                  </svg>
                )}
                {guide.icon === 'arrows' && (
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/>
                  </svg>
                )}
              </span>
              <h3 class="text-xl font-heading mb-2 group-hover:text-secondary transition-colors">
                {guide.title}
              </h3>
              <p class="text-text-light text-sm leading-relaxed mb-4">
                {guide.description}
              </p>
              <span class="guide-link">
                Lire le guide
                <svg class="w-4 h-4 ml-1 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
              </span>
            </a>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Section 3: Quand consulter -->
  <section class="py-16 lg:py-24">
    <div class="container">
      <div class="max-w-4xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-2xl lg:text-3xl mb-6">
              Quand consulter<br />
              <span class="text-secondary">un·e psychologue ?</span>
            </h2>
            <p class="text-text-light mb-8 leading-relaxed">
              Il n'y a pas de "bon moment" pour consulter. Si vous vous posez la question,
              c'est peut-être déjà un signe. Voici quelques situations qui amènent
              souvent mes patient·e·s à prendre rendez-vous :
            </p>

            <ul class="signes-list">
              {signesConsulter.map((signe) => (
                <li class="signe-item">
                  <svg class="signe-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                  <span>{signe}</span>
                </li>
              ))}
            </ul>
          </div>

          <div class="hidden lg:flex justify-center">
            <img
              src="/images/illustrations/mind-tangled-new.png"
              alt=""
              class="w-full max-w-xs opacity-80"
              aria-hidden="true"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 4: Numéros d'urgence -->
  <section class="py-12 lg:py-16 bg-bg-alt">
    <div class="container">
      <div class="max-w-4xl mx-auto">
        <div class="urgences-box">
          <h3 class="text-lg font-heading mb-6 text-center">En cas d'urgence</h3>
          <div class="urgences-grid">
            {urgences.map((item) => (
              <div class="urgence-item">
                <span class="urgence-number">{item.number}</span>
                <div>
                  <p class="font-medium">{item.name}</p>
                  <p class="text-sm text-text-muted">{item.description}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section 5: FAQ courte -->
  <section class="py-16 lg:py-24">
    <div class="container">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl lg:text-3xl text-center mb-12">Questions fréquentes</h2>

        <div class="faq-list" x-data="{ openIndex: null }">
          {faqs.map((faq, index) => (
            <div class="faq-item">
              <button
                class="faq-trigger"
                @click={`openIndex = openIndex === ${index} ? null : ${index}`}
              >
                <span class="faq-question">{faq.question}</span>
                <svg
                  class="w-5 h-5 transition-transform duration-300 text-secondary"
                  :class={`{ 'rotate-180': openIndex === ${index} }`}
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>
              <div
                class="faq-content"
                x-show={`openIndex === ${index}`}
                x-collapse
              >
                <p class="faq-answer">{faq.answer}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Section 6: CTA -->
  <section class="py-20 lg:py-28 bg-bg-alt">
    <div class="container">
      <div class="max-w-2xl mx-auto text-center">
        <img
          src="/images/illustrations/hand-flower.png"
          alt=""
          class="w-28 h-auto mx-auto mb-8"
          loading="lazy"
          aria-hidden="true"
        />
        <h2 class="text-2xl lg:text-3xl mb-4">Prêt·e à en parler ?</h2>
        <p class="text-text-light mb-8 leading-relaxed">
          La première consultation est sans engagement.
          Elle nous permet de faire connaissance.
        </p>
        <a
          href="/contact"
          class="inline-block px-8 py-3 border border-secondary/40 rounded-full text-text hover:border-secondary hover:bg-secondary/5 transition-all duration-300"
        >
          Prendre rendez-vous
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Guides Grid */
  .guides-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .guides-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .guides-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .guide-card {
    display: block;
    padding: 1.5rem;
    background: var(--color-bg);
    border: 1px solid rgba(0, 0, 0, 0.06);
    border-radius: 1rem;
    transition: all 0.3s ease;
  }

  .guide-card:hover {
    border-color: rgba(228, 156, 149, 0.3);
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.08);
    transform: translateY(-2px);
  }

  .guide-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    margin-bottom: 1rem;
    color: var(--color-secondary);
    opacity: 0.8;
  }

  .guide-link {
    display: inline-flex;
    align-items: center;
    font-size: 0.875rem;
    color: var(--color-secondary);
  }

  /* Signes list */
  .signes-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .signe-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
  }

  .signe-icon {
    width: 1.25rem;
    height: 1.25rem;
    color: var(--color-secondary);
    flex-shrink: 0;
    margin-top: 0.125rem;
  }

  /* Urgences */
  .urgences-box {
    background: var(--color-bg);
    border: 1px solid rgba(228, 156, 149, 0.2);
    border-radius: 1rem;
    padding: 2rem;
  }

  .urgences-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .urgences-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .urgence-item {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .urgence-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3.5rem;
    height: 3.5rem;
    background: var(--color-secondary);
    color: white;
    border-radius: 50%;
    font-family: var(--font-heading);
    font-size: 1.125rem;
    font-weight: 600;
    flex-shrink: 0;
  }

  /* FAQ */
  .faq-list {
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .faq-item {
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .faq-trigger {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 0;
    text-align: left;
    background: none;
    border: none;
    cursor: pointer;
    transition: color 0.3s ease;
  }

  .faq-trigger:hover {
    color: var(--color-secondary);
  }

  .faq-question {
    font-family: var(--font-heading);
    font-size: 1.0625rem;
    font-weight: 500;
    padding-right: 1rem;
  }

  .faq-content {
    overflow: hidden;
  }

  .faq-answer {
    padding-bottom: 1.25rem;
    color: var(--color-text-light);
    line-height: 1.7;
  }
</style>
